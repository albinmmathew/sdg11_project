<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Smart Citizens Portal</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

	<!--Status cards-->
	<style>
		.summary-card {
			border: 2px solid;
			border-radius: 12px;
			padding: 20px;
			background: #fff;
		}
		
		.issue-card {
			background: #fff;
			border-radius: 14px;
			padding: 20px;
			height: 100%;
			border: 1px solid #e0e0e0;
		}
		
		.issue-card.emergency {
			border: 2px solid #dc3545;
			background: #fff5f5;
		}
		
		.vote-btn {
			border: 1px solid #ddd;
			background: #fff;
			border-radius: 8px;
			padding: 6px 12px;
			font-weight: 600;
		}
	</style>
	<!--Login/ registration-->
	<style>
		.auth-wrapper {
			min-height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
			background: #f8fafc;
		}
		
		.auth-card {
			width: 100%;
			max-width: 420px;
			padding: 2.2rem;
			border-radius: 18px;
			background: #ffffff;
			box-shadow: 0 10px 30px rgba(0,0,0,0.08);
		}
		
		.app-icon {
			width: 56px;
			height: 56px;
			border-radius: 14px;
			background: #2563eb;
			display: flex;
			align-items: center;
			justify-content: center;
			color: white;
			font-size: 26px;
			margin: 0 auto 16px;
		}
		
		.sdg-badge {
			display: inline-block;
			background: #dcfce7;
			color: #166534;
			padding: 6px 14px;
			border-radius: 999px;
			font-size: 0.85rem;
			margin-bottom: 20px;
		}
		
		.btn-auth {
			background: linear-gradient(135deg, #0f172a, #020617);
			color: #fff;
			border-radius: 10px;
			padding: 10px;
			font-weight: 600;
		}
		
		.btn-auth:hover {
			opacity: 0.95;
		}
	</style>		
	<!--Navbar-->
	<style>
		.navbar-clean {
			background: #ffffff;
			border-bottom: 1px solid #e5e7eb;
		}
		
		.brand-icon {
			width: 36px;
			height: 36px;
			border-radius: 10px;
			background: #2563eb;
			display: inline-flex;
			align-items: center;
			justify-content: center;
			color: #fff;
			font-size: 18px;
			margin-right: 10px;
		}
		
		.sdg-pill {
			background: #dcfce7;
			color: #166534;
			font-size: 0.75rem;
			padding: 4px 10px;
			border-radius: 999px;
			margin-left: 10px;
		}
		
		.nav-pill {
			display: flex;
			gap: 8px;
			background: #f1f5f9;
			padding: 6px;
			border-radius: 14px;
		}
		
		.nav-pill a {
			padding: 8px 14px;
			border-radius: 10px;
			text-decoration: none;
			color: #0f172a;
			font-weight: 500;
			display: flex;
			align-items: center;
			gap: 6px;
		}
		
		.nav-pill a.active,
		.nav-pill a:hover {
			background: #0f172a;
			color: #ffffff;
		}
		
		.logout-btn {
			border: 1px solid #e5e7eb;
			padding: 8px 14px;
			border-radius: 10px;
			background: #fff;
		}
		</style>
		
</head>

<body class="bg-light">

	<nav class="navbar navbar-expand-lg navbar-clean">
		<div class="container">
	
			<!-- LEFT: Brand -->
			<a class="navbar-brand d-flex align-items-center fw-bold" href="{% url 'issue_list' %}">
				<div class="brand-icon">üè†</div>
				Citizen Engagement
				<span class="sdg-pill">SDG 11</span>
			</a>
	
			<!-- Mobile toggle -->
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
					data-bs-target="#navbarMain">
				<span class="navbar-toggler-icon"></span>
			</button>
	
			<!-- NAV CONTENT -->
			<div class="collapse navbar-collapse justify-content-end" id="navbarMain">
	
				{% if user.is_authenticated %}
				<div class="nav-pill me-3">
	
					<a href="{% url 'issue_list' %}"
					   class="{% if request.resolver_match.url_name == 'issue_list' %}active{% endif %}">
						üè† Issues
					</a>
	
					{% if not user.is_staff %}
					<a href="{% url 'report_issue' %}"
					   class="{% if request.resolver_match.url_name == 'report_issue' %}active{% endif %}">
						üìù Report
					</a>
					{% endif %}
	
					{% if user.is_staff %}
					<a href="{% url 'admin_issue_list' %}"
					   class="{% if request.resolver_match.url_name == 'admin_issue_list' %}active{% endif %}">
						üõ° Admin
					</a>
					{% endif %}
				</div>
	
				<!-- Logout -->
				<form action="{% url 'logout' %}" method="post">
					{% csrf_token %}
					<button class="logout-btn">Logout</button>
				</form>
				{% endif %}
	
			</div>
		</div>
	</nav>	

<div class="container">

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-warning">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}

    {% block content %}
    {% endblock %}

</div>

<!-- Bootstrap JS (REQUIRED for responsive navbar) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
